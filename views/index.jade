!!! 5
html(lang='en', ng-app='pm2-web')
  head
    title= title
    script.
      var settings = {
        ws: '#{ws}'
      };
    script(type='text/javascript', src='js/monitor.js')
    link(rel='stylesheet', href='css/style.css')
    script#host-list(type='text/template').
      <li><a href=".">{{hostname}}</a></li>
    script#process-list(type='text/template').
      {{#processes}}
        <div class="process {{_class}}" id="{{pm_id}}">
            <div class="pid"><span>{{pid}}</span></div>
            <div class="name">
                <h4>{{pm2_env.name}}{{#_class}} ({{_class}}){{/_class}}</h4>
                <h5>{{pm2_env.pm_exec_path}}</h5>
            </div>
            <div class="actions">
              <i class="icon-remove"></i>
              <i class="icon-refresh"></i>
            </div>
            <div class="uptime">
            <span>{{uptime}}</span>
            </div><div class="restarts">
                <span>{{pm2_env.restart_time}}</span>
            </div><div class="status ">
                <i class="icon-circle {{pm2_env.status}}"></i>
            </div>
        </div>
      {{/processes}}
      {{^processes}}
        <p>No processes running.</p>
      {{/processes}}
  body
    article.wrapper
      h1.title {{title}}
      .dashboard
        section.hosts
          ul
        section.processes.column.twothirds
          h3 Processes
          .process-list
            .process.head
              .pid: span PID
              .name: span Script
              .uptime: span Uptime
              .restarts: span Restarts
              .status: span Status
              .list: p No processes running
          table(ng-controller='ProcessListController')
            thead
              tr
                th PID
                th Script
                th Uptime
                th Restarts
                th Status
                th Actions
            tbody
              tr(ng-repeat='process in processes')
                td {{process.pid}}
                td {{process.script}}
                td {{process.uptime}}
                td {{process.restarts}}
                td {{process.status}}
                td
        section.system.column.third
          h4#hostname {{hostname}}
          h3 System
          .stats
            div
              h4 Processes
              span {{process_count}}
            div
              h4 CPUs
              span {{cpu_count}}
            div.avg
              h4 Load Avg.
              {{load_avg}}
              span {{.}}
              {{load_avg}}
            div.uptime
              h4 Uptime
              span {{uptime}}
          h4 Memory
          figure#memory
            div(style='width: {{memory_free_percent}}%') Free {{free_amount}}
            div(style='width: {{memory_used_percent}}%') Used {{used_amount}}
          h3 Information
            .process-log
              select#log-type
                option Error
                option Output
            #terminal
              p No process log selected
